/**
 * angular-themer - v0.3.0 - 2015-10-02
 * https://github.com/fdomig/angular-themer
 * Copyright (c) 2015 Franziskus Domig
 */
angular.module("angular-themer",[]).provider("themer",function(){"use strict";var _styles=[],_selected={label:"",href:[""]},_watchers=[];this.setStyles=function(styles){_styles=styles,angular.forEach(_styles,function(style){(void 0===style.href||null===style.href)&&(style.href=[]),Array.isArray(style.href)||(style.href=[style.href])})};var addWatcher=function(watcher){_watchers.push(watcher)},getSelected=this.getSelected=function(){return angular.copy(_selected)},setSelected=this.setSelected=function(key){angular.forEach(_styles,function(style){style.key===key&&(_selected=style,angular.forEach(_watchers,function(watcher){watcher(getSelected())}))})};this.$get=[function(){return{styles:_styles,getSelected:getSelected,setSelected:setSelected,addWatcher:addWatcher}}]}).directive("themerLink",function(){"use strict";return{restrict:"A",template:'<link rel="stylesheet" ng-repeat="style in selected" ng-href="{{ style }}" />',replace:!0,scope:!0,controller:["$scope","themer",function($scope,themer){$scope.selected=themer.getSelected().href,themer.addWatcher(function(style){$scope.selected=style.href})}]}}).directive("themerSwitcher",function(){"use strict";return{restrict:"A",template:'<select ng-model="theme.selected" ng-options="style.key as style.label for style in theme.styles"></select>',replace:!0,scope:!1,controller:["$scope","themer",function($scope,themer){$scope.theme={styles:themer.styles,selected:themer.getSelected().key},$scope.$watch("theme.selected",function(){$scope.theme.selected&&themer.setSelected($scope.theme.selected)})}]}});